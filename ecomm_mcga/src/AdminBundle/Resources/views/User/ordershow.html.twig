{% extends ":layout:layoutbase.html.twig" %}


{% block body %}
{{ parent() }}

<!-- Page Content -->
<section id="product">
  <div class="container">

    <div class="col-md-12">
      <div class="container text-center">
        <h2 class="heading-center">Détails de la commande</h2>
      </div>
      {% for message in app.flashes('notice') %}
      <div class="alert alert-success" role="alert">
      <div class="flash-notice">
        {{ message }}
      </div>
    </div>
      {% endfor %}
      {% for message in app.flashes('noticeFail') %}
      <div class="alert alert-danger" role="alert">
      <div class="flash-notice">
        {{ message }}
      </div>
    </div>
      {% endfor %}

    </div>
    <!-- /.col-md-12 heading -->


    <!-- end alert-success -->
    <div class="row">
      <!-- start of left menu -->
      <div class="col-md-3">
        <div class="box form-holder">
          <div class="list">
            <ul class=" list-unstyled text-capitalize" >
              <li><a href="{{ path ('user_user')}}">Mon compte</a></li>
              <li><a href="{{ path ('order_user')}}">Mes Commandes</a></li>
              </ul>
          </div>
        </div>
        <!-- /.col-md-4 product categories -->
      </div>
      <!-- end of left menu -->

      <div class="col-md-4">
        <div class="form-holder">


          <div class="card">
            <div class="card-header">
              <h3 class="h4">Données personnelles</h3>
            </div>
            <div class="card-body">
              <table class="table table-striped table-sm">
                <tr>
                    <td class="field-label col-md-2  active">
                        <label>Client :</label>
                    </td>
                    <td class="col-md-10 ">
                      {% if order.utilisateur %}
                          {{order.utilisateur.firstname}} {{order.utilisateur.lastname}}
                      {% else %}
                          Utilisateur supprimé
                      {% endif %}
                    </td>
                </tr>
                <tr>
                    <td class="field-label col-md-2 active">
                        <label>Email :</label>
                    </td>
                    <td class="col-md-10">
                        {{order.utilisateur.email}}
                    </td>
                </tr>
                <tr>
                    <td class="field-label col-md-2 active">
                        <label>Téléphone :</label>
                    </td>
                    <td class="col-md-10">
                        {{ order.useraddress.address.phone }}
                    </td>
                </tr>
                <tr>
                    <td class="field-label col-md-2 active">
                        <label>Address:</label>
                    </td>
                    <td class="col-md-10">
                        {{ order.useraddress.address.name }}
                        {{ order.useraddress.address.lastname }}
                        {{ order.useraddress.address.state }}
                        {{ order.useraddress.address.address }}
                        {{ order.useraddress.address.address2 }}
                        <p>{{ order.useraddress.address.zip }} {{ order.useraddress.address.city }}</p>
                    </td>
                </tr>
                <tr>
                    <td class="field-label col-md-2 active">
                        <label>Order date:</label>
                    </td>
                    <td class="col-md-10">
                        {{ order.date|date('Y-m-d H:i') }}
                    </td>
                </tr>
              </table>
            </div>
          </div>
          </div>
</div>
          <div class="col-md-5">
            <div class="form-holder">
          <div class="card">
            <div class="card-close">
            </div>
            <div class="card-header">
              <h3 class="h4">Contenu de la commande</h3>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table id="example" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                  <thead>
                    <tr>
                      <th>Nom</th>
                      <th>Prix</th>
                      <th>Quantité</th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for article in order.commande.produits %}
                    <tr>
                      <td>{{article.nom}}</td>
                      <td>{{article.prix}} €</td>
                      <td>{{article.qte}}</td>
                      <td>{{article.prixLot}} €</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>



          </div>
        </div>
      </div>
      <!-- /.col-md-8 product list -->

    </div>
    <!-- /row -->

  </div>
</section>

{% endblock %}
